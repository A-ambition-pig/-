# 大数据面试题

## Zookeeper

### 1、选举机制

半数机制，超过半数的投票通过

1）第一次启动

投票超过半数时，服务器id胜出

2）第二次启动

A、EPOCH大

B、EPOCH相同，ZXID（事务id）

C、事务id相同，SID（服务器id）

### 2、生产集群安装多少zk合适

安装奇数台

生产经验：

| 服务器数量 | zk数 |
| ---------- | ---- |
| 10         | 3    |
| 20         | 5    |
| 100        | 11   |
| 200        | 11   |

服务器台数多：好处，提高可靠性；坏处：提高通信延时